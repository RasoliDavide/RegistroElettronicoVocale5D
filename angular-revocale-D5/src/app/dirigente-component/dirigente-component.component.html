<div class="impform" *ngIf="formDirigente">
	<h3>Inserisci circolare</h3>
	<form [formGroup]="formDirigente" (ngSubmit)="onSubmitComunicazione()" class="jumbotron ng-valid">
		<!--Comunicazioni = Titolo, Testo-->
		<div class="form-group">
			<label for="text">Inserisci Titolo</label>
			<input type="text" id="titolo" name="titolo" [formControl]="formDirigente.controls['titolo']" class="form-control">
			<div *ngIf="!formDirigente.controls['titolo'].valid" class="alert alert-danger">Titolo non è valido</div>
			<div *ngIf="formDirigente.controls['titolo'].hasError('required')" class="alert alert-danger">Titolo è
				richiesto
			</div>
			<label for="text">Inserisci Testo</label>
			<textarea type="text" id="testo" name="testo" rows="15"  [formControl]="formDirigente.controls['testo']" class="form-control"></textarea>
			<div *ngIf="!formDirigente.controls['testo'].valid" class="alert alert-danger">Testo non è valido</div>
			<div *ngIf="formDirigente.controls['testo'].hasError('required')" class="alert alert-danger">Testo è
				richiesto
			</div>
		</div>
    <div *ngFor="let controllo of formDirigente.controls['destinatari']['controls']; let i = index">
      <input id="class{{i}}" type="checkbox" [formControl]="controllo">
      <label for="class{{i}}">{{classi[i]['CodiceClasse']}}</label>
    </div>
		<button class="btn btn-primary btn-block" type="submit" [disabled]="!formDirigente.valid">Invia</button>
	</form>
</div>
<div class="impform">
		<h4>Riepilogo comunicazioni</h4>
		<table style="width:75%" class="comunicazioni" >
			<tr>
				<th>Titolo</th>
				<th>Testo</th>
				<th>Destinatari</th>

			</tr>
			<tr *ngFor="let comunicazione of comunicazioni">
                <td>{{comunicazione.Titolo}}</td>
                <td>{{comunicazione.Testo}}</td>
                <td>{{comunicazione.Destinatari}}</td>
			</tr>
		</table>
		<br>
</div>
