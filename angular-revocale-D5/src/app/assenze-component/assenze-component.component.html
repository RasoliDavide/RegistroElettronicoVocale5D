<html>
<!-- Studenti con a fianco scelta di inserimento dell'assenza con scelta tra A, E, U -->
<!-- A fianco bottone giustifica se assenza -->
<!-- Se entrata o uscita appare la casella con l'immissione dell'orario-->
<head>
</head>
<body>
<!-- https://www.w3schools.com/howto/howto_custom_select.asp-->
  <h3>Seleziona lo studente</h3>
  <div style="width:200px;">
      <select id="listaStudenti" name= "listaStudenti"  #s (change)="selectChangeHandlerStudenti(s.value)">
        <option value="0">Seleziona lo studente</option>
        <option *ngFor='let s of studenti'>{{s.Cognome}} {{s.Nome}}</option>
      </select>
  </div>
  <br>
  <!--Tipo, Data, Concorre, Ora-->
   <table style="width:100%">
          <tr>
            <th>Tipologia</th>
            <th>Data</th>
            <th>Concorrenza al calcolo </th>
            <th>Ora</th>
          </tr>
    </table>
  <div> <!--Inserire condizione di visione della form una volta scelto lo studente-->
      <form [formGroup]="formAssenza" (ngSubmit)="onSubmitAssenza(formAssenza.value)" class="jumbotron ng-valid">
        <table style="width:100%">
          <tr>
            <th>Tipologia</th>
            <th>Data</th>
            <th>Orario E/U </th>
            <th>Concorrenza al calcolo </th>
            <th>Inserisci</th>
          </tr>
          <tr>
            <th>
              <select name="tipoAssenza" #t (change)="selectChangeHandler(t.value)">
                <option value="A">Assenza </option>
                <option value="E">Entrata</option>
                <option value="U">Uscita</option>
              </select>
            </th>
            <th>
            <input type="date" name="data" id="data" [formControl]="formAssenza.controls['data']" >
            </th>
            <th>
              <input type="time" name="orario" id="orario" [formControl]="formAssenza.controls['orario']" *ngIf="t.value != 'A'">
            </th>
            <th>
              <div class="wrapper" >
                <input id="concorre" name="concorre" type="checkbox" value="concorre" (change)="toggleEditable($event)">
                <label for="concorre">Concorre al calcolo</label>
              </div>
            </th>
            <th>
              <button class="btn btn-primary btn-block" type="submit">Invia</button>
            </th>
        </table>
      </form>
  </div>
  <button class="btn btn-secondary btn-block" (click) = "giustifica()">Giustifica</button>
  <div *ngIf = "giustificaV">
  <h1>Giustifica</h1>
  <h3>Seleziona l'assenza da giustificare</h3>
  <div style="width:200px;">
      <select id="listaAssenze" name= "listaAssenze" title="Assenze">
        <option value="0">Assenza</option>
        <option *ngFor='let a of assenzaOK'>{{a.Data}}</option>
      </select>
  </div>
<br>
      <form [formGroup]="formGiustifica" (ngSubmit)="onSubmitGiustifica(formGiustifica.value)" class="jumbotron ng-valid">
<!--Motivazione-->
        <div class="form-group">
          <label for="Motivazione">Inserisci Motivazione</label><br>
          <input type="text" id="motivazione" name="motivazione" [formControl]="formGiustifica.controls['motivazione']" class="form-control">

          <div *ngIf="!formGiustifica.controls['motivazione'].valid" class="alert alert-danger">Motivazione non è valido</div>
          <div *ngIf="formGiustifica.controls['motivazione'].hasError('required')" class="alert alert-danger">Motivazione è richiesto
          </div>
        </div>
       <button class="btn btn-primary btn-block" type="submit" [disabled]="!formGiustifica.valid">Giustifica</button>
      </form>
    </div>

  </body>
</html>
