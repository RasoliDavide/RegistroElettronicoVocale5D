<!--Inserimento dei voti-->

<!--Inserire form di angular-->
<h3>Seleziona lo studente</h3>
<div style="width:200px;">
	<select (ngModelChange)="onStudentSelection($event)" [value]="0" [(ngModel)]="selectedStudente">
          <option>Seleziona uno studente</option>
          <option *ngFor="let studente of studenti" [ngValue]="studente">{{studente['Cognome']}} {{studente['Nome']}} </option>
        </select>
</div>
<div *ngIf="visuaForm">
	<h4>Riepilogo Voti</h4>
	<table style="width:100%" class="voti">
		<tr>
			<th>Data</th>
			<th>Tipologia</th>
			<th>Descrizione </th>
			<th>Voto</th>

		</tr>
		<tr *ngFor="let voto of voti" class="voti">
			<td>{{voto.data}}</td>
			<td>{{voto.tipo}}</td>
			<td>{{voto.descrizione}}</td>
      <td>{{voto.voto}}</td>
		</tr>

	</table>
	<form [formGroup]="formVoto" (ngSubmit)="onSubmitVoto(formVoto.value)" class="jumbotron ng-valid">



		<table style="width:100%">
			<tr>
				<th>
					<p>Inserisci Tipologia</p>
					<input type="text" name="tipologia" id="tipologia" [formControl]="formVoto.controls['tipologia']" >
        </th>
				<th>
					<p>Inserisci Peso</p>
					<input type="text" name="peso" id="peso" [formControl]="formVoto.controls['peso']" >
        </th>
				<th>
					<p>Inserisci Descrizione</p>
					<input type="text" name="descrizione" id="descrizione" [formControl]="formVoto.controls['descrizione']" >
        </th>
				<th>
					<p>Inserisci voto</p>
					<input type="text" name="voto" id="voto" [formControl]="formVoto.controls['voto']" >
        </th>
				<th>
					<p>Inserisci data</p>
					<input type="date" name="data" id="data" [formControl]="formVoto.controls['data']" >
          </th>
				<th>
					<div class="wrapper">
						<input id="concorre" name="concorre" type="checkbox" value="concorre" (change)="toggleEditable($event)">
						<label for="concorre">Concorre al calcolo</label>
					</div>
				</th>
				<th>
					<button class="btn btn-secondary btn-block" type="submit">Inserisci voto</button>
				</th>
		</table>
		<!--<div>
      <button class="start-button" *ngIf="!isRecording && !blobUrl" (click)="startRecording()">Start Recording</button>
      <button class="stop-button" *ngIf="isRecording && !blobUrl" (click)="stopRecording()">Stop Recording</button>
      <button class="cancel-button" *ngIf="!isRecording && blobUrl" (click)="clearRecordedData()">Clear Recording</button>
      <div *ngIf="isRecording && !blobUrl"> {{recordedTime}} </div>
      <div>
      <audio *ngIf="!isRecording && blobUrl"  controls>
        <source [src]="blobUrl" type="audio/webm">
      </audio>
      </div>
  </div>-->
		<div>
			<a (click)="initiateRecording()" class="btn btn-primary" *ngIf="!recording"> Start Recording </a>
			<a (click)="stopRecording()" class="btn btn-danger" *ngIf="recording"> Stop Recording </a>
			<div class="clearfix"></div>
			<audio controls="" *ngIf="url">
				<source [src]="sanitize(url)" type="audio/wav">
			</audio>

		</div>
	</form>
</div>
